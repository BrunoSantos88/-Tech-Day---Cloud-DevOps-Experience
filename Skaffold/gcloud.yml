apiVersion: deploy.cloud.google.com/v1
kind: DeliveryPipeline
metadata:
 name: Pepeline-cluster-gke
description: main application pipeline
serialPipeline:
 stages:
 - targetId: my-cluster-k8-dev-test
   profiles: []
 - targetId: my-cluster-k8-dev-staging
   profiles: []
 - targetId: my-cluster-k8-produção
   profiles: []
---

apiVersion: deploy.cloud.google.com/v1
kind: Target
metadata:
 name: my-cluster-k8-devtest
description: development cluster
gke:
 cluster: projects/bootcamp-363315/locations/us-central1/clusters/my-cluster-k8-devtest
---
apiVersion: deploy.cloud.google.com/v1
kind: Target
metadata:
 name: my-cluster-k8-dev-staging
description: production cluster
requireApproval: true
gke:
 - targetId: my-cluster-k8-dev-staging
cluster: projects/bootcamp-363315/locations/us-central1/clusters/my-cluster-k8-dev-staging
---
apiVersion: deploy.cloud.google.com/v1
kind: Target
metadata:
 name: my-cluster-k8-produção
description: development cluster
gke:
 cluster: projects/bootcamp-363315/locations/us-central1/clusters/my-cluster-k8-produção